# web finacnial manager
## Описание
Это небольшое веб-приложение, которое сохраняет Ваши денежные операции и может:
- записывать доходы и расходы по датам и категориям (при необходимости можно их удалять);
- создавать собственные категории трат, доходов и кредитов;
- строить график доходов и расходов с предсказанным последним значением;
- задавать значение лимитов для доходов и расходов;
- добавлять и удалять счета и кредиты;
- экспортировать все данные в виде XML файла (xml_dump.xml);
- предоставлять обзорную статистику по Вашим финансам в виде суммарных значений доходов, расходов, кредитов и счетов, включая разность между доходами и расходами (другими словами баланс);
### Внешний вид
На главной странице представлена сводная таблица по суммарным расходам и доходам за текущий месяц и сравнение их с установленным лимитом, общей суммы обременений и величины счетов, а также кнопка для скачивания XML файла со всеми данными об операциях.

Страницы, посвященные доходам и расходам, содержат список операций за последние 90 дней. При удалении записи дохода или расхода, в случае совпадения типа, даты и суммы, будет удалена последняя по добавлению запись. График доходов и расходов охватывает полугодовой временной промежуток и включает в качестве последнего значения предсказанное на основе предыдущих данных с помощью модели ARIMA.
Важно отметить, что, если у Вас сохранены данные доходов или расходов менее чем за 3 месяца, включая текущий, невозможно будет построить график.

Страница по кредитам содержит список кредитов с общей суммой каждого и форму добавления или удаления новой категории. Стоит отметить, что при внесении трат, связанных с кредитом, проверяется наличие записи о таком кредите и уменьшается сумма кредита на внесенное значение. Стоит учитывать, что категории кредитов уникальны и, в случае добавления кредита с уже существующей категорией, значение нового кредита увеличит сумму записи с кредитом соотвествующей категории. Записи кредитов, значение которых меньше или равно 0, удаляются автоматически.

Страница по счетам содержит список счетов, значение сумм которых не учитывается при внесении доходов или расходов.

## Инструкция по запуску:
### Если нет Docker:
1. необходимо иметь развернутю базу данных PostgreSQL 15;
2. клонировать репозиторий;
3. установить необходимые зависимости из requirements.txt в виртуальную среду (например так: `pip install -r requirements.txt`);
4. задать в переменных окружения `HOST`, `DB_NAME`, `USER`, `PASSWORD` или в файле /application/database/.env необходимые хост, имя базы данных, имя пользователя и пароль соответственно; 
5. перейти в директорию /application;
6. запустить сервер приложения командой: `waitress-serve app:app`;
7. перейдя по локальному адресу, наслаждаться работой веб-приложения.

### Если Docker есть:
1. выполнить команду `docker-compose up -d` в корневой директории;
2. перейти по соответсвтующему адресу;
3. you are awesome.
## Важные дополнения
После запуска программа сама создаст схему базы данных и наполнит необходимыми таблицами с помощью миграций.

Необходимо самостоятельно создать admin-пользователя как обычного, только login должен быть admin.

Подробнее про базу данных можно прочитать [здесь](https://github.com/ExtremCode/web_finacnial_manager/tree/main/application/database/technical%20information).
